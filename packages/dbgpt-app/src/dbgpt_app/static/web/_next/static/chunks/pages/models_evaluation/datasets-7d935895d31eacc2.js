(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7050],{6171:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var l=a(87462),n=a(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},s=a(13401),i=n.forwardRef(function(e,t){return n.createElement(s.Z,(0,l.Z)({},e,{ref:t,icon:r}))})},24969:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var l=a(87462),n=a(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},s=a(13401),i=n.forwardRef(function(e,t){return n.createElement(s.Z,(0,l.Z)({},e,{ref:t,icon:r}))})},98065:function(e,t,a){"use strict";function l(e){return["small","middle","large"].includes(e)}function n(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}a.d(t,{T:function(){return n},n:function(){return l}})},42075:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var l=a(67294),n=a(93967),r=a.n(n),s=a(50344),i=a(98065),c=a(53124),o=a(4173);let u=l.createContext({latestIndex:0}),d=u.Provider;var f=e=>{let{className:t,index:a,children:n,split:r,style:s}=e,{latestIndex:i}=l.useContext(u);return null==n?null:l.createElement(l.Fragment,null,l.createElement("div",{className:t,style:s},n),a<i&&r&&l.createElement("span",{className:`${t}-split`},r))},m=a(51916),v=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a};let p=l.forwardRef((e,t)=>{var a,n,o;let{getPrefixCls:u,space:p,direction:h}=l.useContext(c.E_),{size:_=null!==(a=null==p?void 0:p.size)&&void 0!==a?a:"small",align:y,className:x,rootClassName:b,children:g,direction:w="horizontal",prefixCls:j,split:N,style:k,wrap:E=!1,classNames:Z,styles:O}=e,$=v(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[C,P]=Array.isArray(_)?_:[_,_],S=(0,i.n)(P),T=(0,i.n)(C),q=(0,i.T)(P),z=(0,i.T)(C),D=(0,s.Z)(g,{keepEmpty:!0}),V=void 0===y&&"horizontal"===w?"center":y,F=u("space",j),[H,I,M]=(0,m.Z)(F),R=r()(F,null==p?void 0:p.className,I,`${F}-${w}`,{[`${F}-rtl`]:"rtl"===h,[`${F}-align-${V}`]:V,[`${F}-gap-row-${P}`]:S,[`${F}-gap-col-${C}`]:T},x,b,M),G=r()(`${F}-item`,null!==(n=null==Z?void 0:Z.item)&&void 0!==n?n:null===(o=null==p?void 0:p.classNames)||void 0===o?void 0:o.item),A=0,B=D.map((e,t)=>{var a,n;null!=e&&(A=t);let r=(null==e?void 0:e.key)||`${G}-${t}`;return l.createElement(f,{className:G,key:r,index:t,split:N,style:null!==(a=null==O?void 0:O.item)&&void 0!==a?a:null===(n=null==p?void 0:p.styles)||void 0===n?void 0:n.item},e)}),L=l.useMemo(()=>({latestIndex:A}),[A]);if(0===D.length)return null;let X={};return E&&(X.flexWrap="wrap"),!T&&z&&(X.columnGap=C),!S&&q&&(X.rowGap=P),H(l.createElement("div",Object.assign({ref:t,className:R,style:Object.assign(Object.assign(Object.assign({},X),null==p?void 0:p.style),k)},$),l.createElement(d,{value:L},B)))});p.Compact=o.ZP;var h=p},8353:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models_evaluation/datasets",function(){return a(33185)}])},80072:function(e,t,a){"use strict";a.d(t,{$:function(){return i}});var l=a(85893),n=a(14726),r=a(11163),s=a(67294);let i=e=>{let{href:t,type:a="link",className:i="",openNewTab:c=!1,children:o}=e,u=(0,s.useCallback)(()=>{d.push(t)},[t]),d=(0,r.useRouter)();return c?(0,l.jsx)(n.ZP,{type:a,className:i,children:(0,l.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:o})}):(0,l.jsx)(n.ZP,{type:a,className:i,onClick:u,children:o})}},33185:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var l=a(85893),n=a(80169);let r=()=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/list_datasets"),s=e=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/dataset/".concat(e)),i=(e,t)=>(0,n.HT)("/api/v2/serve/evaluate/benchmark/dataset/".concat(e,"/").concat(t,"/rows"));var c=a(80072),o=a(45030),u=a(4393),d=a(20863),f=a(74330),m=a(74309),v=a(67294),p=a(67421),h=a(2319),_=a.n(h);let{Title:y,Text:x}=o.default;var b=()=>{let[e,t]=(0,v.useState)(null),[a,o]=(0,v.useState)({datasets:!1,tables:!1,tableData:!1}),[h,b]=(0,v.useState)(null),[g,w]=(0,v.useState)(null),{t:j}=(0,p.$G)(),[N,k]=(0,v.useState)([]);(0,v.useEffect)(()=>{!async function(){let e=await E();k(e.map(e=>({title:"".concat(e.name,"(").concat(e.tableCount," ").concat(j("tables"),")"),key:e.dataset_id,selectable:!1}))),b(t=>{var a;return t&&e.map(e=>e.dataset_id).includes(t)?t:null===(a=e[0])||void 0===a?void 0:a.dataset_id})}()},[]);let E=async()=>{try{o(e=>({...e,datasets:!0}));let[e,t]=await (0,n.Vx)(r());if(e){console.error(j("get_dataset_list_failed"),e);return}return t||[]}catch(e){console.error(j("get_dataset_list_failed"),e)}finally{o(e=>({...e,datasets:!1}))}},Z=async e=>{try{o(e=>({...e,tables:!0})),w(null);let[t,a]=await (0,n.Vx)(s(e));if(t)return console.error(j("get_table_list_failed"),t),[];return a||[]}catch(e){return console.error(j("get_table_list_failed"),e),[]}finally{o(e=>({...e,tables:!1}))}},O=(e,t,a)=>e.map(e=>e.key===t?{...e,children:a}:e.children?{...e,children:O(e.children,t,a)}:e),$=async e=>{let{key:t,children:a}=e;if(a)return;let l=await Z(t);k(e=>O(e,t,l.map(e=>({title:e.name,key:e.name,parent:t,isLeaf:!0}))))},C=async(e,t)=>{let{selectedNodes:a}=t;b(a[0].parent),w(e[0])},P=async(e,a)=>{try{o(e=>({...e,tableData:!0}));let[l,r]=await (0,n.Vx)(i(e,a));if(l){console.error(j("get_table_data_failed"),l);return}t(r||null)}catch(e){console.error(j("get_table_data_failed"),e)}finally{o(e=>({...e,tableData:!1}))}};return(0,v.useEffect)(()=>{h&&g?P(h,g):t(null)},[h,g]),(0,l.jsx)("div",{className:"h-full w-full dark:bg-gradient-dark bg-gradient-light bg-cover bg-center px-6 py-2 pt-12",children:(0,l.jsx)(u.Z,{title:(0,l.jsxs)(l.Fragment,{children:[j("evaluation_datasets"),(0,l.jsx)(c.$,{href:"/models_evaluation",children:j("back_to_evaluation_task_list")})]}),className:"w-full h-full flex-1 flex flex-col ".concat(_()["page-card"]),children:(0,l.jsxs)("div",{className:"flex h-full",children:[(0,l.jsxs)("div",{className:"w-1/4 pr-4 border-r flex flex-col",children:[(0,l.jsx)(y,{level:5,className:"mb-4",children:j("dataset_list")}),(0,l.jsx)("div",{className:"overflow-y-auto h-full",children:(0,l.jsx)(d.Z,{loadData:$,treeData:N,onSelect:C})})]}),(0,l.jsxs)("div",{className:"w-3/4 pl-4 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)(y,{level:5,className:"mb-0",children:[j("table_data"),(0,l.jsx)("span",{className:"font-normal text-sm",children:j("only_show_first_10_data")})]}),g&&(0,l.jsx)(x,{type:"secondary",children:g})]}),(0,l.jsx)("div",{className:"overflow-y-auto h-full",children:a.tableData?(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsx)(f.Z,{})}):e&&e.rows.length>0?(0,l.jsx)(m.Z,{className:"w-full flex-auto ".concat(_().table),dataSource:e.rows,columns:(()=>{if(!e||0===e.rows.length)return[];let t=e.rows[0];return Object.keys(t).map((e,t)=>({title:e,dataIndex:e,key:e,width:0===t?100:void 0}))})(),pagination:!1,scroll:{x:!0},size:"small"}):g?(0,l.jsx)(x,{type:"secondary",children:j("no_data")}):(0,l.jsx)(x,{type:"secondary",children:j("please_select_a_table_first")})})]})]})})})}},2319:function(e){e.exports={"models-evaluation-detail":"styles_models-evaluation-detail__nnI6V",table:"styles_table__hQFes","page-card":"styles_page-card__kvFDo"}},36459:function(e,t,a){"use strict";function l(e){if(null==e)throw TypeError("Cannot destructure "+e)}a.d(t,{Z:function(){return l}})}},function(e){e.O(0,[2913,3791,5278,4330,7611,8791,1049,5030,4567,1300,4309,2398,4393,9774,2888,179],function(){return e(e.s=8353)}),_N_E=e.O()}]);