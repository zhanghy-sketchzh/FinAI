(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8072],{13728:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var l=r(87462),n=r(67294),a={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},o=r(13401),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,l.Z)({},e,{ref:t,icon:a}))})},33160:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var l=r(87462),n=r(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},o=r(13401),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,l.Z)({},e,{ref:t,icon:a}))})},18073:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var l=r(87462),n=r(67294),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},o=r(13401),s=n.forwardRef(function(e,t){return n.createElement(o.Z,(0,l.Z)({},e,{ref:t,icon:a}))})},5210:function(e,t,r){"use strict";let l;r.d(t,{D:function(){return g},Z:function(){return b}});var n=r(67294),a=r(13728),o=r(6171),s=r(18073),i=r(93967),c=r.n(i),u=r(98423),d=e=>!isNaN(parseFloat(e))&&isFinite(e),p=r(53124),m=r(82401),f=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]]);return r};let h={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},g=n.createContext({}),_=(l=0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return`${e}${l+=1}`}),v=n.forwardRef((e,t)=>{let{prefixCls:r,className:l,trigger:i,children:v,defaultCollapsed:b=!1,theme:x="dark",style:y={},collapsible:w=!1,reverseArrow:k=!1,width:j=200,collapsedWidth:C=80,zeroWidthTriggerStyle:O,breakpoint:E,onCollapse:S,onBreakpoint:Z}=e,P=f(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:$}=(0,n.useContext)(m.V),[N,I]=(0,n.useState)("collapsed"in e?e.collapsed:b),[T,L]=(0,n.useState)(!1);(0,n.useEffect)(()=>{"collapsed"in e&&I(e.collapsed)},[e.collapsed]);let A=(t,r)=>{"collapsed"in e||I(t),null==S||S(t,r)},z=(0,n.useRef)();z.current=e=>{L(e.matches),null==Z||Z(e.matches),N!==e.matches&&A(e.matches,"responsive")},(0,n.useEffect)(()=>{let e;function t(e){return z.current(e)}if("undefined"!=typeof window){let{matchMedia:r}=window;if(r&&E&&E in h){e=r(`screen and (max-width: ${h[E]})`);try{e.addEventListener("change",t)}catch(r){e.addListener(t)}t(e)}}return()=>{try{null==e||e.removeEventListener("change",t)}catch(r){null==e||e.removeListener(t)}}},[E]),(0,n.useEffect)(()=>{let e=_("ant-sider-");return $.addSider(e),()=>$.removeSider(e)},[]);let F=()=>{A(!N,"clickTrigger")},{getPrefixCls:H}=(0,n.useContext)(p.E_),M=n.useMemo(()=>({siderCollapsed:N}),[N]);return n.createElement(g.Provider,{value:M},(()=>{let e=H("layout-sider",r),p=(0,u.Z)(P,["collapsed"]),m=N?C:j,f=d(m)?`${m}px`:String(m),h=0===parseFloat(String(C||0))?n.createElement("span",{onClick:F,className:c()(`${e}-zero-width-trigger`,`${e}-zero-width-trigger-${k?"right":"left"}`),style:O},i||n.createElement(a.Z,null)):null,g={expanded:k?n.createElement(s.Z,null):n.createElement(o.Z,null),collapsed:k?n.createElement(o.Z,null):n.createElement(s.Z,null)},_=N?"collapsed":"expanded",b=g[_],E=null!==i?h||n.createElement("div",{className:`${e}-trigger`,onClick:F,style:{width:f}},i||b):null,S=Object.assign(Object.assign({},y),{flex:`0 0 ${f}`,maxWidth:f,minWidth:f,width:f}),Z=c()(e,`${e}-${x}`,{[`${e}-collapsed`]:!!N,[`${e}-has-trigger`]:w&&null!==i&&!h,[`${e}-below`]:!!T,[`${e}-zero-width`]:0===parseFloat(f)},l);return n.createElement("aside",Object.assign({className:Z},p,{style:S,ref:t}),n.createElement("div",{className:`${e}-children`},v),w||T&&h?E:null)})())});var b=v},82401:function(e,t,r){"use strict";r.d(t,{V:function(){return n}});var l=r(67294);let n=l.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}})},45360:function(e,t,r){"use strict";var l=r(74902),n=r(67294),a=r(38135),o=r(66968),s=r(53124),i=r(28459),c=r(66277),u=r(16474),d=r(84926);let p=null,m=e=>e(),f=[],h={};function g(){let{getContainer:e,duration:t,rtl:r,maxCount:l,top:n}=h,a=(null==e?void 0:e())||document.body;return{getContainer:()=>a,duration:t,rtl:r,maxCount:l,top:n}}let _=n.forwardRef((e,t)=>{let{messageConfig:r,sync:l}=e,{getPrefixCls:a}=(0,n.useContext)(s.E_),i=h.prefixCls||a("message"),c=(0,n.useContext)(o.J),[d,p]=(0,u.K)(Object.assign(Object.assign(Object.assign({},r),{prefixCls:i}),c.message));return n.useImperativeHandle(t,()=>{let e=Object.assign({},d);return Object.keys(e).forEach(t=>{e[t]=function(){return l(),d[t].apply(d,arguments)}}),{instance:e,sync:l}}),p}),v=n.forwardRef((e,t)=>{let[r,l]=n.useState(g),a=()=>{l(g)};n.useEffect(a,[]);let o=(0,i.w6)(),s=o.getRootPrefixCls(),c=o.getIconPrefixCls(),u=o.getTheme(),d=n.createElement(_,{ref:t,sync:a,messageConfig:r});return n.createElement(i.ZP,{prefixCls:s,iconPrefixCls:c,theme:u},o.holderRender?o.holderRender(d):d)});function b(){if(!p){let e=document.createDocumentFragment(),t={fragment:e};p=t,m(()=>{(0,a.s)(n.createElement(v,{ref:e=>{let{instance:r,sync:l}=e||{};Promise.resolve().then(()=>{!t.instance&&r&&(t.instance=r,t.sync=l,b())})}}),e)});return}p.instance&&(f.forEach(e=>{let{type:t,skipped:r}=e;if(!r)switch(t){case"open":m(()=>{let t=p.instance.open(Object.assign(Object.assign({},h),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":m(()=>{null==p||p.instance.destroy(e.key)});break;default:m(()=>{var r;let n=(r=p.instance)[t].apply(r,(0,l.Z)(e.args));null==n||n.then(e.resolve),e.setCloseFn(n)})}}),f=[])}let x={open:function(e){let t=(0,d.J)(t=>{let r;let l={type:"open",config:e,resolve:t,setCloseFn:e=>{r=e}};return f.push(l),()=>{r?m(()=>{r()}):l.skipped=!0}});return b(),t},destroy:e=>{f.push({type:"destroy",key:e}),b()},config:function(e){h=Object.assign(Object.assign({},h),e),m(()=>{var e;null===(e=null==p?void 0:p.sync)||void 0===e||e.call(p)})},useMessage:u.Z,_InternalPanelDoNotUseOrYouWillBeFired:c.ZP};["success","info","warning","error","loading"].forEach(e=>{x[e]=function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];return function(e,t){(0,i.w6)();let r=(0,d.J)(r=>{let l;let n={type:e,args:t,resolve:r,setCloseFn:e=>{l=e}};return f.push(n),()=>{l?m(()=>{l()}):n.skipped=!0}});return b(),r}(e,r)}}),t.ZP=x},85576:function(e,t,r){"use strict";r.d(t,{default:function(){return y}});var l=r(56080),n=r(38657),a=r(56745),o=r(67294),s=r(93967),i=r.n(s),c=r(40974),u=r(8745),d=r(53124),p=r(35792),m=r(32409),f=r(4941),h=r(71194),g=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]]);return r},_=(0,u.i)(e=>{let{prefixCls:t,className:r,closeIcon:l,closable:n,type:a,title:s,children:u,footer:_}=e,v=g(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:b}=o.useContext(d.E_),x=b(),y=t||b("modal"),w=(0,p.Z)(x),[k,j,C]=(0,h.ZP)(y,w),O=`${y}-confirm`,E={};return E=a?{closable:null!=n&&n,title:"",footer:"",children:o.createElement(m.O,Object.assign({},e,{prefixCls:y,confirmPrefixCls:O,rootPrefixCls:x,content:u}))}:{closable:null==n||n,title:s,footer:null!==_&&o.createElement(f.$,Object.assign({},e)),children:u},k(o.createElement(c.s,Object.assign({prefixCls:y,className:i()(j,`${y}-pure-panel`,a&&O,a&&`${O}-${a}`,r,C,w)},v,{closeIcon:(0,f.b)(y,l),closable:n},E)))}),v=r(94423);function b(e){return(0,l.ZP)((0,l.uW)(e))}let x=a.Z;x.useModal=v.Z,x.info=function(e){return(0,l.ZP)((0,l.cw)(e))},x.success=function(e){return(0,l.ZP)((0,l.vq)(e))},x.error=function(e){return(0,l.ZP)((0,l.AQ)(e))},x.warning=b,x.warn=b,x.confirm=function(e){return(0,l.ZP)((0,l.Au)(e))},x.destroyAll=function(){for(;n.Z.length;){let e=n.Z.pop();e&&e()}},x.config=l.ai,x._InternalPanelDoNotUseOrYouWillBeFired=_;var y=x},49867:function(e,t,r){"use strict";r.d(t,{N:function(){return l}});let l=e=>({color:e.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}})},66309:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var l=r(67294),n=r(93967),a=r.n(n),o=r(98423),s=r(98787),i=r(69760),c=r(96159),u=r(45353),d=r(53124),p=r(11568),m=r(10274),f=r(14747),h=r(83262),g=r(83559);let _=e=>{let{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:l,componentCls:n,calc:a}=e,o=a(l).sub(r).equal(),s=a(t).sub(r).equal();return{[n]:Object.assign(Object.assign({},(0,f.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:o,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,p.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:o}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},v=e=>{let{lineWidth:t,fontSizeIcon:r,calc:l}=e,n=e.fontSizeSM,a=(0,h.IX)(e,{tagFontSize:n,tagLineHeight:(0,p.bf)(l(e.lineHeightSM).mul(n).equal()),tagIconSize:l(r).sub(l(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg});return a},b=e=>({defaultBg:new m.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var x=(0,g.I$)("Tag",e=>{let t=v(e);return _(t)},b),y=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]]);return r};let w=l.forwardRef((e,t)=>{let{prefixCls:r,style:n,className:o,checked:s,onChange:i,onClick:c}=e,u=y(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:p,tag:m}=l.useContext(d.E_),f=p("tag",r),[h,g,_]=x(f),v=a()(f,`${f}-checkable`,{[`${f}-checkable-checked`]:s},null==m?void 0:m.className,o,g,_);return h(l.createElement("span",Object.assign({},u,{ref:t,style:Object.assign(Object.assign({},n),null==m?void 0:m.style),className:v,onClick:e=>{null==i||i(!s),null==c||c(e)}})))});var k=r(98719);let j=e=>(0,k.Z)(e,(t,r)=>{let{textColor:l,lightBorderColor:n,lightColor:a,darkColor:o}=r;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:l,background:a,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:o,borderColor:o},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var C=(0,g.bk)(["Tag","preset"],e=>{let t=v(e);return j(t)},b);let O=(e,t,r)=>{let l=function(e){if("string"!=typeof e)return e;let t=e.charAt(0).toUpperCase()+e.slice(1);return t}(r);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${r}`],background:e[`color${l}Bg`],borderColor:e[`color${l}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var E=(0,g.bk)(["Tag","status"],e=>{let t=v(e);return[O(t,"success","Success"),O(t,"processing","Info"),O(t,"error","Error"),O(t,"warning","Warning")]},b),S=function(e,t){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)0>t.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]]);return r};let Z=l.forwardRef((e,t)=>{let{prefixCls:r,className:n,rootClassName:p,style:m,children:f,icon:h,color:g,onClose:_,bordered:v=!0,visible:b}=e,y=S(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:w,direction:k,tag:j}=l.useContext(d.E_),[O,Z]=l.useState(!0),P=(0,o.Z)(y,["closeIcon","closable"]);l.useEffect(()=>{void 0!==b&&Z(b)},[b]);let $=(0,s.o2)(g),N=(0,s.yT)(g),I=$||N,T=Object.assign(Object.assign({backgroundColor:g&&!I?g:void 0},null==j?void 0:j.style),m),L=w("tag",r),[A,z,F]=x(L),H=a()(L,null==j?void 0:j.className,{[`${L}-${g}`]:I,[`${L}-has-color`]:g&&!I,[`${L}-hidden`]:!O,[`${L}-rtl`]:"rtl"===k,[`${L}-borderless`]:!v},n,p,z,F),M=e=>{e.stopPropagation(),null==_||_(e),e.defaultPrevented||Z(!1)},[,B]=(0,i.Z)((0,i.w)(e),(0,i.w)(j),{closable:!1,closeIconRender:e=>{let t=l.createElement("span",{className:`${L}-close-icon`,onClick:M},e);return(0,c.wm)(e,t,e=>({onClick:t=>{var r;null===(r=null==e?void 0:e.onClick)||void 0===r||r.call(e,t),M(t)},className:a()(null==e?void 0:e.className,`${L}-close-icon`)}))}}),R="function"==typeof y.onClick||f&&"a"===f.type,q=h||null,V=q?l.createElement(l.Fragment,null,q,f&&l.createElement("span",null,f)):f,J=l.createElement("span",Object.assign({},P,{ref:t,className:H,style:T}),V,B,$&&l.createElement(C,{key:"preset",prefixCls:L}),N&&l.createElement(E,{key:"status",prefixCls:L}));return A(R?l.createElement(u.Z,{component:"Tag"},J):J)});Z.CheckableTag=w;var P=Z},44944:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models_evaluation",function(){return r(75657)}])},80072:function(e,t,r){"use strict";r.d(t,{$:function(){return s}});var l=r(85893),n=r(14726),a=r(11163),o=r(67294);let s=e=>{let{href:t,type:r="link",className:s="",openNewTab:i=!1,children:c}=e,u=(0,o.useCallback)(()=>{d.push(t)},[t]),d=(0,a.useRouter)();return i?(0,l.jsx)(n.ZP,{type:r,className:s,children:(0,l.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:c})}):(0,l.jsx)(n.ZP,{type:r,className:s,onClick:u,children:c})}},75657:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var l=r(85893),n=r(28459),a=r(67294),o=r(33160),s=r(92783),i=r(83062),c=r(14726),u=r(36609),d=r(80169),p=r(62418);let m=(0,p.n5)(),f=e=>(0,d.HT)("/api/v1/evaluate/benchmark_task_list",e,{headers:{"user-id":m}}),h=e=>(0,d.a4)("/api/v1/evaluate/execute_benchmark_task",e,{headers:{"user-id":m}});var g=r(65654),_=r(25278),v=r(99859),b=r(45360),x=r(85576),y=r(78045),w=r(34041),k=r(30568),j=r(13457),C=r(67421);let{TextArea:O}=_.default,E=e=>{let{open:t,onCancel:r,onOk:n}=e,[o]=v.default.useForm(),{t:s}=(0,C.$G)(),[i,c]=(0,a.useState)([]),[u,p]=(0,a.useState)("LLM"),[m,f]=(0,a.useState)("JSON_PATH"),{loading:E}=(0,g.Z)(async()=>{let[e,t]=await (0,d.Vx)((0,d.Vw)());return t||[]},{onSuccess:e=>{let t=e.map(e=>({label:e,value:e}));c(t)},onError:e=>{b.ZP.error(s("get_model_list_failed")+": "+e.message)}}),{loading:S,run:Z}=(0,g.Z)(async e=>{if("LLM"===e.evaluation_type){let t={scene_value:e.scene_value,model_list:e.model_list,temperature:e.temperature,max_tokens:e.max_tokens,benchmark_type:e.evaluation_type},[r,l]=await (0,d.Vx)(h(t));return l}if("AGENT"===e.evaluation_type){let t={},r={};try{e.headers&&(t=JSON.parse(e.headers))}catch(e){throw Error(s("header_format_error"))}try{"JSON_PATH"===e.parse_strategy&&e.response_mapping&&(r=JSON.parse(e.response_mapping))}catch(e){throw Error(s("response_mapping_format_error"))}let l={scene_value:e.scene_value,benchmark_type:e.evaluation_type,api_url:e.api_url,headers:t,parse_strategy:e.parse_strategy,response_mapping:r,http_method:e.http_method||"POST",timeout:e.timeout||300},[n,a]=await (0,d.Vx)(h(l));return a}},{manual:!0,onSuccess:()=>{b.ZP.success(s("create_evaluation_success")),o.resetFields(),p("LLM"),f("JSON_PATH"),null==n||n(),r()},onError:e=>{b.ZP.error(s("create_evaluation_failed")+": "+e.message)}}),P=async()=>{try{let e=await o.validateFields();await Z(e)}catch(e){console.error(s("form_validation_failed")+":",e)}};return(0,l.jsx)(x.default,{title:s("new_evaluation_task"),open:t,onOk:P,onCancel:()=>{o.resetFields(),p("LLM"),f("JSON_PATH"),r()},confirmLoading:S,width:600,children:(0,l.jsxs)(v.default,{form:o,layout:"vertical",requiredMark:!1,initialValues:{temperature:.6,evaluation_type:"LLM",parse_strategy:"JSON_PATH",http_method:"POST",timeout:300},children:[(0,l.jsx)(v.default.Item,{label:s("task_name"),name:"scene_value",rules:[{required:!0,message:s("please_input_task_name")}],children:(0,l.jsx)(_.default,{placeholder:s("please_input_task_name")})}),(0,l.jsx)(v.default.Item,{label:s("evaluation_type"),name:"evaluation_type",rules:[{required:!0,message:s("please_select_evaluation_type")}],children:(0,l.jsxs)(y.ZP.Group,{value:u,onChange:e=>p(e.target.value),children:[(0,l.jsx)(y.ZP,{value:"LLM",children:s("evaluate_model")}),(0,l.jsx)(y.ZP,{value:"AGENT",children:s("evaluate_agent")})]})}),"LLM"===u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.default.Item,{label:s("models_to_evaluate"),name:"model_list",rules:[{required:!0,message:s("please_select_models_to_evaluate")},{type:"array",min:1,message:s("please_select_at_least_one_model")}],children:(0,l.jsx)(w.default,{mode:"multiple",placeholder:s("please_select_models_to_evaluate"),options:i,loading:E,showSearch:!0,optionFilterProp:"label",allowClear:!0})}),(0,l.jsx)(v.default.Item,{label:s("temperature"),name:"temperature",rules:[{required:!0,message:s("please_input_temperature")}],children:(0,l.jsx)(k.Z,{min:0,max:1,step:.1,marks:{0:"0",.5:"0.5",1:"1"}})}),(0,l.jsx)(v.default.Item,{label:s("max_new_tokens"),name:"max_tokens",rules:[{required:!1,message:s("please_input_max_new_tokens")}],children:(0,l.jsx)(j.Z,{min:1,max:32768,style:{width:"100%"},placeholder:s("please_input_max_new_tokens")})})]}),"AGENT"===u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v.default.Item,{label:s("api_url"),name:"api_url",rules:[{required:!0,message:s("please_input_api_url")},{type:"url",message:s("please_input_valid_url")}],children:(0,l.jsx)(_.default,{placeholder:s("api_url_placeholder")})}),(0,l.jsx)(v.default.Item,{label:s("http_method"),name:"http_method",rules:[{required:!0,message:s("please_select_http_method")}],children:(0,l.jsxs)(w.default,{placeholder:s("please_select_http_method"),children:[(0,l.jsx)(w.default.Option,{value:"GET",children:"GET"}),(0,l.jsx)(w.default.Option,{value:"POST",children:"POST"})]})}),(0,l.jsx)(v.default.Item,{label:s("header_info"),name:"headers",rules:[{required:!1,message:s("please_input_header_info")}],children:(0,l.jsx)(O,{rows:4,placeholder:s("header_info_placeholder")})}),(0,l.jsx)(v.default.Item,{label:s("parse_strategy"),name:"parse_strategy",rules:[{required:!0,message:s("please_select_parse_strategy")}],children:(0,l.jsxs)(w.default,{value:m,onChange:e=>f(e),placeholder:s("please_select_parse_strategy"),children:[(0,l.jsx)(w.default.Option,{value:"DIRECT",children:s("parse_strategy_direct")}),(0,l.jsx)(w.default.Option,{value:"JSON_PATH",children:s("parse_strategy_json_path")})]})}),"JSON_PATH"===m&&(0,l.jsx)(v.default.Item,{label:s("response_mapping"),name:"response_mapping",rules:[{required:!0,message:s("please_input_response_mapping")}],children:(0,l.jsx)(O,{rows:4,placeholder:s("response_mapping_placeholder")})}),(0,l.jsx)(v.default.Item,{label:s("api_timeout"),name:"timeout",rules:[{required:!0,message:s("please_input_api_timeout")},{type:"number",min:1,max:2e3,message:s("timeout_range_validation")}],children:(0,l.jsx)(j.Z,{min:1,max:3e5,style:{width:"100%"},placeholder:s("api_timeout_placeholder")})})]})]})})};var S=r(80072);let Z=e=>{let{t}=(0,C.$G)(),{filterValue:r="",type:l="all"}=e,{data:n,loading:a,run:o,refresh:s}=(0,g.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,[n,a]=await (0,d.Vx)(f({page:e,page_size:t,filter_param:r||void 0,sys_code:"all"===l?void 0:l}));return a},{manual:!0,onError:e=>{b.ZP.error(e.message||t("get_evaluation_list_failed"))}});return{data:n,loading:a,getModelsEvaluation:o,refresh:s}},P=(0,a.createContext)(void 0),$=e=>{let{children:t,filterValue:r="",type:n="all"}=e,{data:a,loading:o,getModelsEvaluation:s,refresh:i}=Z({filterValue:r,type:n});return(0,l.jsx)(P.Provider,{value:{refresh:i,data:a,loading:o,getModelsEvaluation:s},children:t})},N=()=>{let e=(0,a.useContext)(P);if(void 0===e)throw Error("useEvaluation must be used within an EvaluationProvider");return e},I=e=>{let{onTabChange:t,activeKey:r="all"}=e,{refresh:n}=N(),[d,p]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)(s.Z,{className:"backdrop-filter h-10 backdrop-blur-lg bg-white bg-opacity-30 border border-white rounded-lg shadow p-1 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",options:[{value:"all",label:(0,u.t)("all_models_evaluation")}],onChange:t,value:r})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(i.Z,{title:(0,u.t)("refresh_list"),children:(0,l.jsx)(o.Z,{onClick:n,className:"p-2 cursor-pointer"})}),(0,l.jsx)(S.$,{href:"/models_evaluation/datasets",className:"border-none text-white bg-button-gradient h-full m-2",type:"primary",openNewTab:!0,children:(0,u.t)("evaluation_dataset_info")}),(0,l.jsx)(c.ZP,{className:"border-none text-white bg-button-gradient h-full",onClick:()=>{p(!0)},children:(0,u.t)("create_evaluation")}),(0,l.jsx)(E,{open:d,onCancel:()=>p(!1),onOk:n})]})]})};var T=r(66309),L=r(74309),A=r(11163),z=r(13578),F=r.n(z);let H=()=>{let{data:e,loading:t,getModelsEvaluation:r}=N(),{t:n}=(0,C.$G)(),o=(0,A.useRouter)();(0,a.useEffect)(()=>{null==r||r(1,20)},[]);let s=(0,a.useCallback)(e=>{o.push("/models_evaluation/".concat(e.evaluate_code))},[]),u=[{title:n("evaluation_scene"),dataIndex:"scene_key",key:"scene_key",width:"5%"},{title:n("task_name"),dataIndex:"scene_value",key:"scene_value",width:"12%"},{title:n("evaluation_dataset_name"),dataIndex:"datasets_name",key:"datasets_name",width:"6%",render:e=>(0,l.jsx)(i.Z,{title:e,children:(0,l.jsx)("p",{className:"truncate",children:e})})},{title:n("create_time"),dataIndex:"gmt_create",key:"gmt_create",width:"10%"},{title:n("finish_time"),dataIndex:"gmt_modified",key:"gmt_modified",width:"10%"},{title:n("model_name"),dataIndex:"model_list",key:"model_list",width:"10%",render:e=>(0,l.jsx)("span",{children:e.join(",")})},{title:n("task_status"),dataIndex:"state",key:"state",width:"5%",render:(e,t)=>{let r="default",a=e;return("running"===e?(r="blue",a=n("status_running")):"complete"===e?(r="green",a=n("status_complete")):"failed"===e?(r="red",a=n("status_failed")):"pending"===e&&(r="orange",a=n("status_pending")),(null==t?void 0:t.state)==="failed")?(0,l.jsx)(i.Z,{title:t.log_info,children:(0,l.jsx)(T.Z,{color:r,children:a})}):(0,l.jsx)(T.Z,{color:r,children:a})}},{title:n("round_time"),dataIndex:"round_time",key:"round_time",width:"5%"},{title:n("operator"),width:"6%",key:"action",render:(e,t)=>(0,l.jsx)(c.ZP,{type:"link",disabled:"complete"!==t.state,onClick:()=>s(t),children:n("View_details")})}];return(0,l.jsx)(L.Z,{tableLayout:"fixed",className:"w-full ".concat(F().table),pagination:{total:(null==e?void 0:e.total_count)||0,current:(null==e?void 0:e.page)||1,pageSize:(null==e?void 0:e.page_size)||20,onChange:(e,t)=>null==r?void 0:r(e,t),showSizeChanger:!0,pageSizeOptions:["10","20","50","100"]},loading:t,columns:u,dataSource:(null==e?void 0:e.items)||[],rowKey:"evaluate_code"})};var M=()=>{let[e,t]=(0,a.useState)("all"),[r,o]=(0,a.useState)(""),{t:s}=(0,C.$G)();return(0,l.jsx)(n.ZP,{theme:{components:{Segmented:{itemSelectedBg:"#2867f5",itemSelectedColor:"white"}}},children:(0,l.jsx)($,{filterValue:r,type:e,children:(0,l.jsxs)("div",{className:"flex flex-col h-full w-full  dark:bg-gradient-dark bg-gradient-light bg-cover bg-center px-6 py-2 pt-12",children:[(0,l.jsx)(I,{activeKey:e,onTabChange:t,filterValue:r,onSearch:o}),(0,l.jsx)("div",{className:"flex flex-col h-full w-full overflow-y-auto",children:(0,l.jsx)(H,{filterValue:r,type:e})})]})})})}},13578:function(e){e.exports={table:"styles_table__bcZvX"}},79370:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var l=r(98924),n=function(e){if((0,l.Z)()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],r=window.document.documentElement;return t.some(function(e){return e in r.style})}return!1},a=function(e,t){if(!n(e))return!1;var r=document.createElement("div"),l=r.style[e];return r.style[e]=t,r.style[e]!==l};function o(e,t){return Array.isArray(e)||void 0===t?n(e):a(e,t)}},36459:function(e,t,r){"use strict";function l(e){if(null==e)throw TypeError("Cannot destructure "+e)}r.d(t,{Z:function(){return l}})}},function(e){e.O(0,[2913,3791,5278,8791,4330,7611,5418,4567,1300,9859,4309,2086,3457,7558,9774,2888,179],function(){return e(e.s=44944)}),_N_E=e.O()}]);